# Sex differences in viral entry protein expression, host responses to SARS-CoV-2, and in vitro responses to sex steroid hormone treatment in COVID-19
This is the code repository for understanding sex difference of covid-19 using big data. 

## Code structure
### main-analysis
Code and input files for main analysis
- raw: preprocessed data files for ARCHS4 GPL11154 (A), GEO GPL570 (G), and Treehouse OCTAD (T), obtained from machine learning prediction and human annotation (correction). These files are used for main analysis.
- all R code for main analysis, which generates the figures in the main text.

All the R scripts were verified on a RStudio Desktop 1.1.463.

### ml-prediction 
Code, input and output for machine learning models for gender, age and tissue prediction.
- input: We provide ARCHS GPL11154 as an example, which were divided into 5 folds (fold_0-fold_4) for cross validation and fold_all for final prediction.
- all python code for gender-tissue prediction (deep multi-task model), and age prediction (XGBoost model)
- output: prediction results generated by the models.

All the Python scripts were tested under the following environment:
- CUDA Version: 10.2
- Python Version: 3.7
- Pytorch Version: 


